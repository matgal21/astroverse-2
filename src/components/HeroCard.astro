---
import type { CollectionEntry } from "astro:content";
import OptimizedCover from "@components/OptimizedPicture.astro";
import FormattedDate from "@components/FormattedDate.astro";


interface Props {
  post: CollectionEntry<"posts">;
}

const { post } = Astro.props;

function truncateUTF8String(str: string, maxBytes: number) {
  let byteCount = 0;
  let index = 0;
  while (index < str.length && byteCount < maxBytes) {
    const char = str.charCodeAt(index);
    if (char > 0x7ff) {
      byteCount += 3;
    } else if (char > 0x7f) {
      byteCount += 2;
    } else {
      byteCount += 1;
    }
    if (byteCount <= maxBytes) index++;
    else break;
  }
  return str.slice(0, index) + (index < str.length ? "..." : "");
}

const truncatedDescription = truncateUTF8String(post.data.description, 150);

---

  <!-- <a href={`/posts/${post.slug}/`} class="block md:flex md:flex-1">
    <div class="md:w-2/3">
      <img src={post.data.cover} alt={post.data.coverAlt} class="hover:opacity-90"/>
    </div>
    <div
    class="border-4 border-b-orange-500  bottom-0 end-0 start-0 bg-neutral-200  p-4 md:relative md:flex md:w-1/3 md:flex-col md:justify-start md:bg-transparent md:p-5"
    >
    <div class="mt-4 flex items-center gap-4 text-xs text-black md:text-neutral-900 dark:text-white">
      <h3 class="font-bold text-xl bg-sky-600 rounded-full p-2 text-white">{post.data.category.join(" ")}</h3>
      <FormattedDate date={post.data.pubDate} />
    </div>
    <h1 class="mt-4 text-xl font-bold text-black md:text-neutral-900 dark:text-white">
      {post.data.title}
    </h1>
    <p class="mt-4 text-black md:text-neutral-900 dark:text-white">
      {truncatedDescription}
    </p>
    <div class="mt-32 flex font-bold items-center gap-0 text-xs md:text-neutral-900 dark:text-white">
      <span>{post.data.tags.join(" ")}</span>
    </div>
  </div>
</div>
</a> -->
<!--SEPARADOR -->


  <div id="carouselExampleDark" class="carousel carousel-dark slide mx-auto ">
    <div class="carousel-indicators">
      
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1" aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2" aria-label="Slide 3"></button>
      <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="3" aria-label="Slide 4"></button>

    </div>
    
    <a href="/posts/ver-estatua-de-la-libertad-desde-un-ferry-gratuito/">
      <div class="carousel-inner">
        <div class="carousel-item active hover:scale-110 " data-bs-interval="10000">
          <img src="https://images.unsplash.com/photo-1720791565742-24780438991b?q=80&w=773&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100 grid" alt="Estatua libertad">
          <div class="carousel-caption d-none d-md-block bg-sky-700 bg-opacity-90 rounded text-white">
            <h2 class="text-2xl font-bold text-white">Ver la estatua de la libertad desde un ferry gratuito</h2>
            <p>El ferry sale desde Manhattan y va hacia Staten Island y no tiene costo.</p>
          </div>
        </div>
      </a>
      
      <a href="/posts/excursion-lobos-marinos/">
        <div class="carousel-item hover:scale-110">
          <img src="https://images.unsplash.com/photo-1720638206606-3a78d7749c66?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="d-block w-100" alt="Buckingham Palace">
          <div class="carousel-caption d-none d-md-block bg-orange-700 bg-opacity-70 rounded text-white">
            <h2 class="text-2xl font-bold text-white">Excursion de lobos marinos y pingüinos en Puerto Madryn</h2>
            <p>Ver de cerca y tocar lobos marinos y pingüinos en su hábitat natural.</p>
          </div>
        </div>
      </a>
      
      <a href="/posts/primera-vez-fly-bondi/">
        <div class="carousel-item hover:scale-110 carousel slide mx-auto align-center justify-center">
          <img src="https://images.unsplash.com/photo-1720362570794-c9dd78232bdf?w=400&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwcm9maWxlLXBhZ2V8MTV8fHxlbnwwfHx8fHw%3D" class="d-block w-100" alt="Avión Flybondi">
          <div class="carousel-caption d-none d-md-block bg-orange-700 bg-opacity-70 rounded text-white ">
            <h2 class="text-2xl font-bold">Primera vez volando con Flybondi a Bariloche</h2>
            <p>Viajando desde Aeroparque a Barloche desde la low cost con mas crecimiento en el pais.</p>
          </div>
        </div>
      </a>
      
      <a href="/posts/aveiro-la-venecia-de-portugal/">
        <div class="carousel-item hover:scale-110">
          <img src="https://images.unsplash.com/photo-1720369091745-1ccc6059a1cd?w=400&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwcm9maWxlLXBhZ2V8MTJ8fHxlbnwwfHx8fHw%3D" class="d-block w-100" alt="London Eye">
          <div class="carousel-caption d-none d-md-block bg-sky-700 bg-opacity-70 rounded text-white">
            <h2 class="text-2xl font-bold">Aveiro... la Venecia de Portugal?</h2>
            <p>La pintoresca ciudad entre Porto y Lisboa</p>
          </div>
        </div>
      </div>
      </a>

    <button class="carousel-control-prev mx-auto " type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
      <span class="carousel-control-prev-icon " aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next mx-auto text-black" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
      <span class="carousel-control-next-icon " aria-hidden="true"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </div>
