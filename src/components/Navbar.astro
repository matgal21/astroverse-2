---
import {
  Astronav,
  MenuItems,
  MenuIcon,
  Dropdown,
  DropdownItems,
  DropdownSubmenu,
} from "astro-navbar";
import Link from "@components/Links.astro";
import { Icon } from "astro-icon/components";
import { SITE_TITLE, HeaderLinks } from "@consts";
---
<style>
  h2 {
    font-family: Impact,-apple-system, sans-serif;
    letter-spacing: 1.5px;
  }

  .mi-imagen {
    width: 125px; /* Size for desktop */
  }

  @media (max-width: 600px) {
    .mi-imagen {
      display: inline;
    }
  }
  /* .sticky{
    background-color: #053365;
background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='24' viewBox='0 0 88 24'%3E%3Cg fill-rule='evenodd'%3E%3Cg id='autumn' fill='%23031d38' fill-opacity='1'%3E%3Cpath d='M10 0l30 15 2 1V2.18A10 10 0 0 0 41.76 0H39.7a8 8 0 0 1 .3 2.18v10.58L14.47 0H10zm31.76 24a10 10 0 0 0-5.29-6.76L4 1 2 0v13.82a10 10 0 0 0 5.53 8.94L10 24h4.47l-6.05-3.02A8 8 0 0 1 4 13.82V3.24l31.58 15.78A8 8 0 0 1 39.7 24h2.06zM78 24l2.47-1.24A10 10 0 0 0 86 13.82V0l-2 1-32.47 16.24A10 10 0 0 0 46.24 24h2.06a8 8 0 0 1 4.12-4.98L84 3.24v10.58a8 8 0 0 1-4.42 7.16L73.53 24H78zm0-24L48 15l-2 1V2.18A10 10 0 0 1 46.24 0h2.06a8 8 0 0 0-.3 2.18v10.58L73.53 0H78z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  } */
</style>
<header id="sticky-header" class="sticky top-0 lg:flex p-2 mx-0 w-full align-center items-center justify-center bg-blue-700 z-50 transition-all duration-300">
  <a href="/">
    <h2 id="scroll-h2" class=" mb-2 hidden text-white text-center justify-center start-0 text-4xl  px-4 mx-2 pt-1">SOLO DE IDA
      <img class="inline-block mx-2 mt-0 pt-1 rounded-full" src="/img/logos solo de ida/logo azul1.png" width="75px" height="75px">
    </h2>
  </a>
  <Astronav closeOnClick class="justify-center">
    <div class="flex w-full lg:w-auto align-center justify-center items-center">
      <div class="flex xl:hidden ">
        <MenuIcon class="w-8 h-8 text-neutral-100 mr-64 my-1" />
        <button
          type="button"
          class="mx-auto my-1 text-neutral-100 align-center justify-center items-center gap-x-2 text-lg font-medium disabled:opacity-50 disabled:pointer-events-none"
          onclick="window.location.href='/search/'"
        >
          <Icon name="tabler:search" class="inline icon-base align-center justify-center items-center" />
          BUSCAR
        </button>
      </div>
    </div>
    <MenuItems class="hidden lg:flex">
      <ul class="flex flex-col lg:flex-row lg:gap-5 text-xl">
        {HeaderLinks.map((link) => (
          <Link
            href={link.href}
            class="px-4 py-3 font-medium mx-auto text-white hover:border-b-4 hover:border-y-neutral-200"
          >
            {link.title}
          </Link>
        ))}
      </ul>
      <div class="flex ml-4">
        <button
          type="button"
          class="mx-auto my-1 px-8 text-neutral-100 align-center justify-center items-center gap-x-2 text-lg font-medium transition disabled:opacity-50 disabled:pointer-events-none border-2 rounded-full border-slate-100/20 hover:border-white"
          onclick="window.location.href='/search/'"
        >
          <Icon name="tabler:search" class="inline icon-base align-center justify-center items-center" />
          BUSCAR
        </button>
      </div>
    </MenuItems>
  </Astronav>
</header>


<script>
  // Ejecuta el script cuando el DOM esté listo
  document.addEventListener('DOMContentLoaded', function() {
    // Obtén los elementos del DOM
    const header = document.getElementById('sticky-header');
    const scrollH2 = document.getElementById('scroll-h2');

    // Verifica que los elementos existen antes de manipularlos
    if (header && scrollH2) {
      // Agregar evento de scroll
      window.addEventListener('scroll', function() {
        // Asegurarse de que window.scrollY no sea null o undefined
        const scrollPos = window.scrollY || 0;
        
        if (scrollPos > 50) {
          // Mostrar el h2 cuando el scroll supere los 50px
          scrollH2.classList.remove('hidden');
          scrollH2.classList.add('block');
        } else {
          // Ocultar el h2 cuando se vuelve al principio
          scrollH2.classList.remove('block');
          scrollH2.classList.add('hidden');
        }
      });
    } else {
      console.error('Elementos no encontrados: #sticky-header o #scroll-h2');
    }
  });
</script>


